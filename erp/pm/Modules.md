ERP 后台分析
===

## 功能分片
- 订单模块
    - 订单的获取，状态判断，处理等
- 商品模块
    - 商品信息的CRUD，组合与拆分，抓取与更新
- 库存模块
    - 动态库存分配
    - 库存估算
    - 自动补货
- 会员模块
    - 用户基础信息
    - 用户积分
    - 用户推荐与奖励
- 物流模块
    - 物流运单维护（购买，使用）
    - 物流追踪
    - 物流更新
- 支付模块
    - 支付方式维护
    - 交易安全分析
- 客服模块
    - 在线客服沟通
    - 评价维护
- 推广模块
    - 活动运营
    - 广告运营
    - 站外引流
    - 优惠券维护
    
    
### 商品模块
- 类目管理
    - 目的：使得商品更好展现在指定分类中，并且合理地调整类目
    - 类型：
        - 后台类目：以类目树的形式存在，定期更新(CategoryTreeNodes)
        - 前台类目：后台类目较为简略，而面向用户的类目可能会有所不同（更为精细，自由映射）
        - 前后台类目拆分，保留映射关系即可；方便用户查找和运营编辑
- 品牌管理：
    - 目的：管理卖家品牌信息；
- 属性管理
    - 目的：维护商品属性，从而能够合理上架（管理）商品
    - 分类:
        - 关键属性
            - 主图，SKU，价格，发货方式
        - 规格属性
            - Variation中用于区别其他SKU的属性，如颜色，尺寸等
        - 建议属性(定制化，与商品类目有关)
            - 各种建议信息，如浏览图，场景图，包裹尺寸，材料信息等
    - 方式：
        - 属性分组
            - 根据不同类目中的特定属性，将属性类型和类目关联
        - 属性继承
            - 根据父类目的属性加以继承（OOD的思想)
- 商品编辑

- 商品管理
    - 分类：
        - 上下架管理：自动上下架，批量上下架，定时上下架
        - 促销管理
        - 商品标签管理
        - 库存管理
- 商品搜索
    - 搜索分词
    - 数据查询
        - 分词索引
        - 查询索引并返回结果
    - 搜索排序
        - 根据以下因素排序
            - 商品相关性
            - 销量相关性
            - 评论数据（数量+好评等级）
            - 时效性（更新时间，最近上架时间）
            ```
            这里如果对长时间不销售的Listing，定期更新，是不是会促进销售
            ```
            - 定制化标签（用户标签+商品标签）
- 商品筛选
    - 类目筛选
    - 价格筛选
    - 品牌筛选
    - 服务筛选（物流方式，运费类型，如FBA，JD物流等）
    
- 商品推荐
    - 常规推荐：配置化的推荐
    - 个性化推荐：@TODO，这块有很多好讲的
- 商品评论
    - 评论类型：物流评论，商品评论，客服评论，etc（初期可以只做商品
    - 评论过滤（恶意差评过滤，脏话等，人工审核
    - 评论作为排序的标准
    
### 促销模块（@TODO）

### 内容模块-CMS（@TODO）

### 库存模块
- 基本操作
    - 增加，锁定，解锁，扣减，返还，异常处理
- 库存分层
    - 目的：调度层次不同，需要考虑的重点不同
    - 销售层：对于商城前端用户，即虚拟库存的性质
        - 正常情况，前端库存与实体库存一致
        - 预售情况下，设置拦截器，重新设置预售库存限额，并且将库存的处理转由销售层来处理（不进实体库存扣除）
        - 分类
            - 可销售库存
            - 锁定库存（已下单的【尚未支付的】，购物车中的【maybe】）
            - 已销售库存（已经售出的，需要扣除
            - 活动库存（指定类型活动需要从可销售库存中扣除一部分作为活动库存
            - 预售库存（见上文，预售类型的库存）
            
    - 调度层
        - 实际库存（仓库中实际的）
        - 可用库存（可供发货的
        - 在途库存（正在运输途中的，例如FBA inbound中的，IN_TRANSIT）
        - 不可销售库存（有问题的库存
        - 已用库存（已被分配的
    - 仓库层
        - 