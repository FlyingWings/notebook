C语言程序-编译
---
### gcc编译器
1. 常用指令
    - `-E`: 预处理完就退出，不继续后续编译
    - `-I`：指定头文件目录
    - `-o`：指定输出文件名
    - `-S`: 编译后停止，不继续进行

### 编译流程
1. 预处理
    - 替换宏定义：将`#include`，`#define` 替换为对应的文本内容
    - 处理方式：通过预处理器`cpp`进行，处理方式:`gcc -E -I./inc main.c -o main.i`
    - 中间结果：预编译文本内容，实际上只是拆了宏定义
2. 编译
    - 将预处理程序转变为汇编代码
    - 处理方式：`gcc -S -I./inc main.c -o main.s`
3. 汇编
    - 将汇编码转换成机器码，输出目标文件（二进制文件）
    - 等价于: `gcc -c main.s -o main.o`
    - 结果：为每一个源文件产生一个目标文件 
4. 链接
    - 将多个目标文件（以及所需的库文件，例如.so等）链接最终的可执行文件
    - ld -o main.out main.o ...(链接内容等)
    